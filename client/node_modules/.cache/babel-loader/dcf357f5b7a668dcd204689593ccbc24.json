{"ast":null,"code":"import { ShopActionTypes } from \"./shop.types\";\nimport { firestore } from \"./../../firebase/firebase.utils\";\nexport const updateCollections = collectionsMap => ({\n  type: ShopActionTypes.UPDATE_COLLECTIONS,\n  payload: collectionsMap\n});\nexport const fetchCollectionsStart = () => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_START\n});\nexport const fetchCollectionsSuccess = collectionsMap => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\n  payload: collectionsMap\n});\nexport const fetchCollectionsFailure = errorMessage => ({\n  type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\n  payload: errorMessage\n});\nexport const fetchCollectionsStartAsync = () => {\n  return dispatch => {\n    const collectionRef = firestore.collection(\"collections\");\n    collectionRef.onSnapshot(async snapshot => {\n      const map = convertCollectionsSnapshotToMap(snapshot);\n      updateCollections(map);\n      this.setState({\n        loading: false\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Guilherme/Conhecimento/Developer/React/crwn-clothing/src/redux/shop/shop.actions.js"],"names":["ShopActionTypes","firestore","updateCollections","collectionsMap","type","UPDATE_COLLECTIONS","payload","fetchCollectionsStart","FETCH_COLLECTIONS_START","fetchCollectionsSuccess","FETCH_COLLECTIONS_SUCCESS","fetchCollectionsFailure","errorMessage","FETCH_COLLECTIONS_FAILURE","fetchCollectionsStartAsync","dispatch","collectionRef","collection","onSnapshot","snapshot","map","convertCollectionsSnapshotToMap","setState","loading"],"mappings":"AAAA,SAASA,eAAT,QAAgC,cAAhC;AACA,SAASC,SAAT,QAA0B,iCAA1B;AAEA,OAAO,MAAMC,iBAAiB,GAAIC,cAAD,KAAqB;AACpDC,EAAAA,IAAI,EAAEJ,eAAe,CAACK,kBAD8B;AAEpDC,EAAAA,OAAO,EAAEH;AAF2C,CAArB,CAA1B;AAKP,OAAO,MAAMI,qBAAqB,GAAG,OAAO;AAC1CH,EAAAA,IAAI,EAAEJ,eAAe,CAACQ;AADoB,CAAP,CAA9B;AAIP,OAAO,MAAMC,uBAAuB,GAAIN,cAAD,KAAqB;AAC1DC,EAAAA,IAAI,EAAEJ,eAAe,CAACU,yBADoC;AAE1DJ,EAAAA,OAAO,EAAEH;AAFiD,CAArB,CAAhC;AAKP,OAAO,MAAMQ,uBAAuB,GAAIC,YAAD,KAAmB;AACxDR,EAAAA,IAAI,EAAEJ,eAAe,CAACa,yBADkC;AAExDP,EAAAA,OAAO,EAAEM;AAF+C,CAAnB,CAAhC;AAKP,OAAO,MAAME,0BAA0B,GAAG,MAAM;AAC9C,SAAQC,QAAD,IAAc;AACnB,UAAMC,aAAa,GAAGf,SAAS,CAACgB,UAAV,CAAqB,aAArB,CAAtB;AAEAD,IAAAA,aAAa,CAACE,UAAd,CAAyB,MAAOC,QAAP,IAAoB;AAC3C,YAAMC,GAAG,GAAGC,+BAA+B,CAACF,QAAD,CAA3C;AACAjB,MAAAA,iBAAiB,CAACkB,GAAD,CAAjB;AACA,WAAKE,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KAJD;AAKD,GARD;AASD,CAVM","sourcesContent":["import { ShopActionTypes } from \"./shop.types\";\r\nimport { firestore } from \"./../../firebase/firebase.utils\";\r\n\r\nexport const updateCollections = (collectionsMap) => ({\r\n  type: ShopActionTypes.UPDATE_COLLECTIONS,\r\n  payload: collectionsMap,\r\n});\r\n\r\nexport const fetchCollectionsStart = () => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_START,\r\n});\r\n\r\nexport const fetchCollectionsSuccess = (collectionsMap) => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_SUCCESS,\r\n  payload: collectionsMap,\r\n});\r\n\r\nexport const fetchCollectionsFailure = (errorMessage) => ({\r\n  type: ShopActionTypes.FETCH_COLLECTIONS_FAILURE,\r\n  payload: errorMessage,\r\n});\r\n\r\nexport const fetchCollectionsStartAsync = () => {\r\n  return (dispatch) => {\r\n    const collectionRef = firestore.collection(\"collections\");\r\n\r\n    collectionRef.onSnapshot(async (snapshot) => {\r\n      const map = convertCollectionsSnapshotToMap(snapshot);\r\n      updateCollections(map);\r\n      this.setState({ loading: false });\r\n    });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}